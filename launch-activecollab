#!/bin/bash

# Launch ActiveCollab as a web app
# Similar to DHH's approach in Omarchy

URL="https://app.activecollab.com/"

# Detect available Chromium-based browser
if command -v chromium &> /dev/null; then
    BROWSER="chromium"
elif command -v chromium-browser &> /dev/null; then
    BROWSER="chromium-browser"
elif command -v google-chrome &> /dev/null; then
    BROWSER="google-chrome"
elif command -v google-chrome-stable &> /dev/null; then
    BROWSER="google-chrome-stable"
elif command -v brave &> /dev/null; then
    BROWSER="brave"
elif command -v brave-browser &> /dev/null; then
    BROWSER="brave-browser"
elif command -v microsoft-edge &> /dev/null; then
    BROWSER="microsoft-edge"
elif command -v vivaldi &> /dev/null; then
    BROWSER="vivaldi"
else
    echo "No Chromium-based browser found. Please install Chromium, Chrome, Brave, or Edge."
    exit 1
fi

# Launch in app mode
exec "$BROWSER" --app="$URL" "$@"
